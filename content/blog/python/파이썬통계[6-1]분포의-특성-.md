---
title: 파이썬통계[6-1]분포의 특성 
date: 2020-04-21 22:04:10
category: python
author: jonghwan
draft: false
---

# 6.1 분포의 특성 
## 6.1.1 분포의 중심을 어떻게 표현할 수 있을까?   
우리는 일반적으로 아래와 같이 생각할 수 있다. 
- 값의 중앙을 정의하거나
- 어떤 기준으로 정렬했을 때 가운데 위치하는 값

### a) 산술평균 Mean   
우리가 가장 흔히 접하는 대푯값이다. $\bar{x}=(\sum_{i=1}^n x_{i})/n$ 라고 수식으로 표현할 수 있고 $\bar{x}$는 표본평균을 의미한다. 우린 사실 데이터를 어떻게 모으더라도 표본일 수 밖에 없으므로 bar를 붙여서 표현하였다. (만약 진짜 먼 미래의 초연결 사회에서는 표본이 필요없어지는 날이 올까?) 평균은 전체 데이터를 모두 반영할 수 있다는 장점이 있지만, 이상값(outlier)에 영향을 많이 받는다. 그러므로 평균을 어떤 데이터로 활용하기 전에 전체적인 데이터 분포에 이상치가 없는지 항상 확인하자. 위와 같은 사실을 모른다면 데이터분석에 있어서 '평균의 오류' 빠지기 쉽다. 대표적으로 신문에서 자주 보는 평균 연봉이 그렇다. 취업 포털 인크루트의 발표에 따르면 2020년 대졸 신입 평균 연봉이 3,882만원이라고 한다. 모두가 의아하지만 대표적으로 극단치들에 의해 높아진 평균의 예이다. 


```python
import numpy as np
x = np.arange(10)  #[0,1,...,9]

np.mean(x) #4.5

xWithNan = np.hstack((x,np.nan)) # horizontal stack 만약 데이터에 Nan값이 있다면? 
np.mean(x) #nan 구할 수가 없다. 
np.nanmean(x) #4.5 nan값을 제거하고 평균을 구한다. 

xWithOutlier = np.hstack((x,1000)) ##[0,1,...,9,1000]
np.mean(xWithOutlier) #95.0 이 값을 대푯값이라고 할 수 있을까? 
```

### b) 증앙값 Median     
데이터를 크기 순으로 정렬하고 그 가운데에 있는 값을 대푯값으로 취하는 방법   
데이터가 홀수개일 때는 가운데의 값을 취하고, 짝수 개일 때는 가운데 2개를 평균낸다.   
중앙값은 평균에 비해 이상치에 덜 민감하다. 

```python
np.median(x) #4.5
np.median(xWithOutlier) #5.0 극단치에 영향이 적다. 
```

### c) 최빈값 Mode   
말그대로 데이터 분포에서 가장 많이 존재하는 발생하는 값을 의미한다. 확률질량함수에서 가장 큰 값을 갖게하는 확률변수라고 생각할 수도 있겠다. 

```python
from scipy import stats
data = [1,3,4,4,7]
stats.mode(data) # ModeResult(mode=array([3]), count=array([3]))
```

### d) 기하평균 Geometric mean   
생소한 평균이겠지만 일단 수식으로는 아래와 같다.   
$$mean_{geometric}=(\prod_{i=1}^Nx_i)^{1/N}$$   
기하평균은 보통 비율 단위의 데이터를 바라보고 싶을 때 사용할 수 있다. 예시를 들어서 생각해보자. 300원이었던 미쯔라는 과자가 있다.(실제 필자가 어렸을 때 300원이었던 혜자과자다.) 이 과자의 가격이 2배(200%)로 뛰었다가, 그 다음해는 1.5배(150%)인상 후 소비자에 반발에 의해 가격을 0.5배(50%)로 조정했다고 해보자.   

<center>원래 가격 : 300</center>         
<center>1차년 가격(200%) : 600</center>        
<center>2차년 가격(150%) : 900</center>       
<center>3차년 가격(50%)  : 450</center>    
<center>최종 변화율 = 150%</center> 

이때 미쯔의 가격은 3년 동연 평균 얼마나(%) 변한걸까? 가격의 변화율을 위 (a)산술평균으로 구하면 
$$(2.0+1.5+0.5)/3 =1.333$$
$$1.333^{3}=2.368$$ 
매년 평균 약 130% 상승으로 계산된다. 그러나 이를 기준으로 3년 뒤에 상승률은 무려 236.8%가된다. 비율에 대한 평균을 이야기할 때는 산술평균은 맞지 않는 것을 알 수 있다.  이럴 때 사용할 수 있는 것이 기하 평균이다.
$$(2.0*1.5*0.5)^{1/3} = 1.1447$$
$$1.1147^{3}=1.500$$
기하평균을 이용하면 가격은 매년 111%상승했으며 3년 동안 150% 상승했다는 것을 확인할 수 있으며, 우리가 원하는 값이 나온 것을 확인할 수 있다. 

```python
x = [2.0,1.5,0.5]
stats.gmean(x) #1.1447
```